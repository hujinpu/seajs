/*
Copyright 2011, SeaJS v0.5.0dev
MIT Licensed
build time: ${build.time}
*/

var module=module||{};module.seajs="0.5.0dev";
(function(r){function A(a,b){b.dependencies=s(b.dependencies,a,b.prefix);n[a]=b;delete b.id}function B(a){for(var b=[],c=0,d=a.length,e;c<d;c++){e=a[c];n[e]||b.push(e)}return b}function t(a,b){C(a,function(c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=c(a[e]);b&&b.apply(r,d)})}function C(a,b,c){function d(){if(b)b(c?undefined:D({deps:e}))}var e=s(a);a=B(e);if(a.length===0)return d();for(var f=0,j=a.length,h=j;f<j;f++)(function(E){L(E,function(){var o=(n[E]||0).dependencies||[],u=o.length;if(u){o=B(s(o));
h+=u;C(o,function(){h-=u;h===0&&d()},true)}--h===0&&d()})})(a[f])}function F(a,b,c){if(M(a)){c=b;b=a;a=""}else if(v.call(a)==="[object Function]"){c=a;a=c.toString();b=/\brequire\s*\(\s*['"]?([^'")]*)/g;for(var d=[],e;e=b.exec(a);)e[1]&&d.push(e[1]);b=d;a=""}c={id:a,dependencies:b,factory:c};var f;if(i){c.prefix=i;i=null}if(w){if(b=N())f=b.hasAttribute?b.src:b.getAttribute("src",4);else if(k)if(G()-k.timestamp<O)f=k.uri;k=null}if(f){if(a)f=p("./"+a,f);A(f,c);l=[]}else l.push(c)}function L(a,b){function c(){var d=
l.length,e=0,f,j=a,h;if(d){for(;e<d;e++){h=l[e];if(f=h.id)j=p("./"+f,a);A(j,h)}l=[]}m[a]&&delete m[a];b&&b()}if(m[a])x(m[a],c);else{if(w)k={uri:a,timestamp:G()};m[a]=P(a,c)}}function P(a,b){var c=document.createElement("script");x(c,function(){b&&b.call(c);try{if(c.clearAttributes)c.clearAttributes();else for(var d in c)delete c[d]}catch(e){}q.removeChild(c)});c.async=true;c.src=a;return q.insertBefore(c,q.firstChild)}function x(a,b){a.addEventListener("load",b,false);a.addEventListener("error",function(){b()},
false)}function N(){if(y&&y.readyState==="interactive")return y;for(var a=q.getElementsByTagName("script"),b,c=0,d=a.length;c<d;c++){b=a[c];if(b.readyState==="interactive")return b}return null}function D(a){return function(b){var c=p(b,a.uri,a.prefix),d;if(Q(a.deps,c)===-1||!(d=n[c]))throw"Invalid module id: "+b;if(H(a,c))return d.exports;if(!d.exports){b=d;c={uri:c,deps:d.dependencies,prefix:d.prefix,parent:a};var e=b.factory;delete b.factory;if(v.call(e)==="[object Function]"){if(c=e(D(c),b.exports=
{},(b.declare=F,b.load=t,b)))b.exports=c}else b.exports=e||{}}return d.exports}}function H(a,b){if(a.uri===b)return true;if(a.parent)return H(a.parent,b);return false}function I(a){a=("./"+a).replace(/(.*)?\/.*/,"$1").substring(2);return(a?a:".")+"/"}function p(a,b,c){if(c){var d=a.indexOf("/");if(d>0){var e=a.substring(0,d);if(J.call(c,e))a=c[e]+a.substring(d)}}a=a.replace(/\.js(?:\W.*)?$/,"");if(a.indexOf("://")!==-1)b=a;else if(a.indexOf("./")===0||a.indexOf("../")===0){b=I(b||K)+a;if(J.call(z,
b))b=z[b];else{c=b.split("/");a=[];var f;e=0;for(f=c.length;e<f;e++){d=c[e];if(d==".."){if(a.length===0)throw"Invalid module path: "+b;a.pop()}else d!=="."&&a.push(d)}b=z[b]=a.join("/")}}else b=a.indexOf("/")===0?R+a:K+a;return b+".js"}function s(a,b,c){for(var d=[],e=0,f=a.length;e<f;e++)d[e]=p(a[e],b,c);return d}var v=Object.prototype.toString,J=Object.prototype.hasOwnProperty,M=Array.isArray?Array.isArray:function(a){return v.call(a)==="[object Array]"},Q=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:
function(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},G=Date.now||function(){return(new Date).getTime()},m={},l=[],k=null,O=10,w=!+"\v1",i=null,n={},q=document.getElementsByTagName("head")[0];if(w)x=function(a,b){a.attachEvent("onreadystatechange",function(){var c=a.readyState;if(c==="loaded"||c==="complete")b()})};var y=null,z={},R=r.location.protocol+"//"+r.location.host,g=document.getElementsByTagName("script");g=g[g.length-1];var K=I(g.hasAttribute?g.src:g.getAttribute("src",
4));(g=g.getAttribute("data-main"))&&t([g]);module.prefix=function(a,b){i=i||{};i[a]=b;return this};module.declare=F;module.load=t})(this);
